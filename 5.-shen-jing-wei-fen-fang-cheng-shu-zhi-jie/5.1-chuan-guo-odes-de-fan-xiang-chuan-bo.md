# 5.1 穿过ODEs进行反向传播

训练一个神经微分方程通常意味着穿过微分方程求解器进行反向传播。实际上有几种方法可以做到这一点。为了阐述清楚，我们开始时只研究ODEs，在下一节将回到通过CDEs和SDEs的反向传播。 我们将看到穿过ODE进行微分的三种主要方式：

1. 先离散再优化——内存效率低，但准确且快速。
2. 先优化再离散——记忆效率高，但是是近似，速度有点慢。
3. 可逆ODE求解器——内存高效且准确，但有点慢

一般来说，"离散-优化 "是首选方法。如果这不可能，通常是由于内存的限制，那么可逆的ODE求解器是次佳选择。最后，如果这不适合，那么可以使用先优化后离散的方法。可以使用，但这通常是最不受欢迎的方法。

所有这些选择通常都可以在主要的微分方程软件库中找到（第[5.6](5.6.md)节），因此，选择反向传播的方式通常是一件很容易改变的事情。
